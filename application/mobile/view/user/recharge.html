<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    <title>余额充值</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.">
        <link rel="stylesheet" href="/static/mobile/css/weui.min.css">
        <link rel="stylesheet" href="/static/mobile/css/style.css">
    </head>
<body >
<!--主体-->
<header class="wy-header">
  <div class="wy-header-icon-back" onclick="window.history.back();"><span></span></div>
  <div class="wy-header-title">充值</div>
</header>
<div class="weui-content recharge">
  <div class="weui-cells weui-cells_form">
  	<div class="weui-cell">
  		<ul class="recharge-item">
            <li><a href="javascript:void(0);">5000</a></li>
            <li><a href="javascript:void(0);">3000</a></li>
            <li><a href="javascript:void(0);">2000</a></li>
  			<li><a href="javascript:void(0);">1000</a></li>
  			<li><a href="javascript:void(0);">800</a></li>
  			<li><a href="javascript:void(0);">500</a></li>
  			<li><a class="active1" href="javascript:void(0);">300</a></li>
  			<li><a href="javascript:void(0);">200</a></li>
  			<li><a href="javascript:void(0);">100</a></li>
  		</ul>
  	</div>
  </div>
  <div class="weui-cells weui-cells_form">
    <div class="weui-cell">
      <div class="weui-cell__hd"><label class="weui-label">充值金额</label></div>
      <div class="weui-cell__bd"><input class="weui-input" type="number" id="money" placeholder="自定义金额"></div>
    </div>
  </div>

	<div class="weui-cells weui-cells_form">
	  <div class="weui-cell">
	    <div class="weui-cell__hd"><label for="pay-type" class="weui-label">支付方式</label></div>
	    <div class="weui-cell__bd">
            <select lay-verify="type" id="type" name="type">
                <option value="0">清选择支付方式</option>
                <option value="5001">微信扫码</option>
                <option value="2004">支付宝扫码</option>
                <option value="QWJ_QUICK">快捷支付</option>
                <option value="7001">网银支付</option>
            </select>
	    </div>
	  </div>
	</div>

  <div class="weui-btn-area">
    <a class="weui-btn weui-btn_primary" href="javascript:" id="showTooltips">去充值</a>
  </div>
  
</div>
<script src="/static/index/js/jquery-2.1.1.min.js"></script>
<script src="/static/mobile/js/jquery-weui.js"></script>
 <script src="/static/layer/layer.js" charset="utf-8"></script>
<script type="text/javascript">
  $(function() {
    // FastClick.attach(document.body);
    
    $('.recharge-item a').click(function(){
    	$(this).addClass('active').parent().siblings().find('a').removeClass('active');
      $("#money").val($(this).text());
    })

//      $("#pay-type").select({
//          title: "支付方式",
//          items: [
//              {
//                  title: "支付宝",
//                  value: "1",
//              },
//              {
//                  title: "微信",
//                  value: "2",
//              },
//              {
//                 title: "快捷支付",
//                 value: "3",
//              },
//              // {
//              //     title: "银联扫码",
//              //     value: "5",
//              // }
//          ]
//      });

    
  });

$("#showTooltips").click(function(event) {
    var money = $("#money").val()*1;

    var is_weixin='';
    var check_type = $("#pay-type");
    // if(is_weixin==0){
    //     check_type = $("#mutil_pay")
    //     var pay_type = check_type.attr('data-values');
    // }else{
    //     check_type = $("#pay-type")
    //     var pay_type = check_type.attr('data-values');
    // }

    var pay_type = check_type.attr('data-values');

    if(money<100){
        layer.msg("单笔充值最低100元");
        return false;
    }else{
        if(money > check_type.attr('data-max')){
            layer.msg(check_type.val()+"最高"+check_type.attr('data-max'));
            return false;
        }
        // if(pay_type==922 && money>3000){
        //     layer.msg("微信最高3000");
        //     return false;
        // }
        // if(pay_type==914 && money>5000){
        //     layer.msg("银联最高5000");
        //     return false;
        // }
    }
    //var pay_type_arr = pay_type.split('-');

    var jump_url = "/mobile/pay/pay?money="+money+"&pay_type="+pay_type;
    console.log(jump_url);
    window.location.href=jump_url;
});

</script>
</body>
</html>
